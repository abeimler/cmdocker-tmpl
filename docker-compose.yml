version: '3'

services:
  build-arm-linux-gnueabihf:
    build:
      context: .
      dockerfile: ./docker/arm-linux-gnueabihf/Dockerfile
    container_name: build-arm-linux-gnueabihf
    volumes:
      - .:/source
      - ./build:/binary
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-clang-3.9:
    build:
      context: .
      dockerfile: ./docker/clang-3.9
    container_name: build-clang-3.9
    volumes:
      - .:/source
      - ./build:/binary
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-clang-3.9-clazy:
    build:
      context: .
      dockerfile: ./docker/clang-3.9-clazy
    container_name: build-clang-3.9-clazy
    volumes:
      - .:/source
      - ./build:/binary
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-clang-4.0:
    build:
      context: .
      dockerfile: ./docker/clang-4.0
    container_name: build-clang-4.0
    volumes:
      - .:/source
      - ./build:/binary
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-clang-4.0-clazy:
    build:
      context: .
      dockerfile: ./docker/clang-4.0-clazy
    container_name: build-clang-4.0-clazy
    volumes:
      - .:/source
      - ./build:/binary
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-clang-5.0:
    build:
      context: .
      dockerfile: ./docker/clang-5.0
    container_name: build-clang-5.0
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-gcc-5:
    build:
      context: .
      dockerfile: ./docker/gcc-5/Dockerfile
    container_name: build-gcc-5
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-gcc-6:
    build:
      context: .
      dockerfile: ./docker/gcc-6/Dockerfile
    container_name: build-gcc-6
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-gcc-7:
    build:
      context: .
      dockerfile: ./docker/gcc-7/Dockerfile
    container_name: build-gcc-7
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-mingw-w64-i686:
    build:
      context: .
      dockerfile: ./docker/mingw-w64-i686/Dockerfile
    container_name: build-mingw-w64-i686
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-mingw-w64-x86-64:
    build:
      context: .
      dockerfile: ./docker/mingw-w64-x86-64/Dockerfile
    container_name: build-mingw-w64-x86-64
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-msvc-9.0:
    build:
      context: .
      dockerfile: ./docker/msvc-9.0/Dockerfile
    container_name: build-msvc-9.0
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-wine32-gcc:
    build:
      context: .
      dockerfile: ./docker/wine32-gcc/Dockerfile
    container_name: build-wine32-gcc
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer

  build-wine64-gcc:
    build:
      context: .
      dockerfile: ./docker/wine64-gcc/Dockerfile
    container_name: build-wine64-gcc
    environment:
      - BUILD_TYPE=Release
      - SOURCE_PATH=/source
      - BUILD_PATH=/binary/Release
      - COVERAGE=0
      - BUILD_ONLY=0
      - CMAKE_OPTIONS=""

      # CTest Options
      - USE_CTEST=0
      - CLEAN_BUILD=0
      - SUBMIT_RESULTS=0
      - RUN_TESTS=1
      #- CTEST_COVERAGE_COMMAND=gcov
      #- CTEST_MEMORYCHECK_COMMAND=valgrind
      #- CTEST_MEMORYCHECK_TYPE=ThreadSanitizer